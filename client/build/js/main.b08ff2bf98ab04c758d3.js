(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,r){e.exports={cardMainContainer:"cardMainContainer___BJ1a-",cardContainer:"cardContainer___3pikU",cardLink:"cardLink___1VTxg"}},16:function(e,t,r){e.exports={movieDetailsContainer:"movieDetailsContainer___3nAEd",detailContainer:"detailContainer___2IpFB",infoContainer:"infoContainer___2Uw-D",title:"title___1tN-1",desc:"desc___2cPU1",content:"content___g3erY",item:"item___3MZN5",itemHeader:"itemHeader___3uNaF",imgContainer:"imgContainer___3tYGu",watchNowBtn:"watchNowBtn___nxoRO",playIcon:"playIcon___3Caa9",watchNowLabel:"watchNowLabel___2IsCC"}},218:function(e,t,r){e.exports={homeContainer:"homeContainer___vn6p0"}},221:function(e,t,r){e.exports={sliderContainer:"sliderContainer___3-i_m"}},222:function(e,t,r){e.exports={historyContainer:"historyContainer___1t61c"}},476:function(e,t,r){},501:function(e,t,r){"use strict";r.r(t);var a=r(3),o=r.n(a),i=(r(224),r(2)),s=r.n(i),n=r(76),c=r.n(n),d=r(54),l=r(53),v=r(108),p=(r(82),r(103),r(11)),u=r(216),y=r.n(u).a.create({baseURL:window.location.href}),m=(e,t,r,a)=>y(function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t&&t.toLowerCase(),i={url:e,method:o,headers:a};return"get"!==o&&r&&(i.data=r),i}(e,t,r,a)).then(e=>{var{status:t}=e;return{status:t,data:e.data,headers:e.headers,isSuccess:!0}}).catch(e=>{var{status:t}=e;return{status:t,error:e,isSuccess:!1}}),O="FETCH_MOVIES",b="FETCH_MOVIES_SUCCESS",h="FETCH_MOVIES_FAILURE",f="FETCH_MOVIES_ERROR",_=r(43),g=r.n(_);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t)=>(t.categories.forEach(t=>{-1===e.findIndex(e=>e.id===t.id)&&e.push(t)}),e),[])},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=w(e);return t.reduce((t,r)=>{var a=e.filter(e=>{return-1!==e.categories.findIndex(e=>r.id===e.id)}),o=S({},r);return o.data=a,t.push(o),t},[])},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t)=>e?e+", "+t.title:t.title,"")};function*D(){try{var e=yield Object(p.a)(m,"assets/mockdata/movies.json","get");if(e.isSuccess){var t=e.data&&e.data.entries.length>0&&e.data.entries,r=t?C(t):[];yield Object(p.c)({type:b,payload:r})}else yield Object(p.c)({type:h,payload:e.error})}catch(e){yield Object(p.c)({type:f,error:{message:e.message}})}}function*P(){yield Object(p.d)(O,D)}var I="FETCH_MOVIES_DETAILS",N="FETCH_MOVIES_DETAILS_SUCCESS",T="FETCH_MOVIES_DETAILS_ERROR",H=(e,t)=>{var{data:{entries:r=[]}}=e;return r.find(e=>e.id===t)};function*M(e){try{var t=yield Object(p.a)(m,"assets/mockdata/movies.json","get"),r=H(t,e.movieId);yield Object(p.c)({type:N,payload:r})}catch(e){yield Object(p.c)({type:T,error:{message:e.message}})}}function*R(){yield Object(p.d)(I,M)}var k="SET_MOVIE_HISTORY",L="SET_MOVIE_HISTORY_SUCCESS",V="SET_MOVIE_HISTORY_FAILURE",x="SET_MOVIE_HISTORY_ERROR",F="GET_MOVIE_HISTORY",U="GET_MOVIE_HISTORY_SUCCESS",B="GET_MOVIE_HISTORY_FAILURE",Y="GET_MOVIE_HISTORY_ERROR",A=(e,t)=>{var r=[],{entries:a=[]}=e;return t.forEach(e=>{var t=a.find(t=>t.id===e.movieId);t&&r.push(t)}),r};function*G(){try{var e=yield Object(p.a)(m,"/api/history","get");if(e.isSuccess){var t=yield Object(p.a)(m,"assets/mockdata/movies.json","get");if(t.isSuccess){var r=A(t.data,e.data);yield Object(p.c)({type:U,payload:r})}else yield Object(p.c)({type:U,payload:[]})}else yield Object(p.c)({type:B,payload:e.error})}catch(e){yield Object(p.c)({type:Y,error:{message:e.message}})}}function*J(e){try{var t=yield Object(p.a)(m,"/api/history","post",e.payload);t.isSuccess?yield Object(p.c)({type:L,payload:t.data}):yield Object(p.c)({type:V,payload:t.error})}catch(e){yield Object(p.c)({type:x,error:{message:e.message}})}}function*Q(){yield Object(p.d)(F,G)}function*W(){yield Object(p.d)(k,J)}var Z=r(21),q=r(223);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(r,!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K={isSuccess:!1,data:[],serviceError:null,error:null};function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(r,!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te={data:{},error:null};function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(r,!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe={isSuccess:!1,data:{},serviceError:null,error:null};function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(r,!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne={isSuccess:!1,data:[],serviceError:null,error:null},ce=Object(Z.c)({moviesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return X({},e,{data:t.payload,isSuccess:!0});case h:return X({},e,{serviceError:t.payload,isSuccess:!1});case f:return X({},e,{error:t.error,isSuccess:!1});default:return e}},moviesDetailsData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return ee({},e,{data:t.payload});case T:return ee({},e,{error:t.error});default:return e}},setHistoryData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return ae({},e,{data:t.payload,isSuccess:!0});case V:return ae({},e,{serviceError:t.payload,isSuccess:!1});case x:return ae({},e,{error:t.error,isSuccess:!1});default:return e}},getHistoryData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return se({},e,{data:t.payload,isSuccess:!0});case B:return se({},e,{serviceError:t.payload,isSuccess:!1});case Y:return se({},e,{error:t.error,isSuccess:!1});default:return e}}}),de=(r(18),r(85)),le=r.n(de),ve=()=>o()("header",{className:le.a.headerContainer,"data-test-id":"headerContainer"},void 0,o()(d.b,{className:le.a.vodBtn,to:"/"},void 0,"VOD"),o()("div",{},void 0,o()(d.b,{className:le.a.hLink,to:"/"},void 0,"Home"),o()(d.b,{className:le.a.hLink,to:"/history"},void 0,"History"))),pe=(r(476),o()(ve,{})),ue=e=>{var{route:t}=e;return o()("div",{"data-test-id":"appContainer"},void 0,pe,Object(v.a)(t.routes))},ye=()=>({type:O}),me=r(218),Oe=r.n(me),be=r(219),he=r.n(be),fe=r(220),_e=r.n(fe),ge=r(109),je=r.n(ge),Se=e=>{var{data:t,isFromHistory:r}=e;return o()("div",{className:je.a.cardMainContainer,"data-test-id":"cardMainContainer"},void 0,o()("div",{className:je.a.cardContainer},void 0,o()(d.b,{className:je.a.cardLink,to:"/movieDetails?movieId=".concat(t.id,"&fromHistory=").concat(r)},void 0,o()("img",{src:t.images[0].url,alt:t.images[0].type}))))};Se.defaultProps={isFromHistory:!1};var we=Se,Ce=r(221),Ee=r.n(Ce),De={dots:!1,infinite:!1,speed:500,lazyLoad:!0,slidesToShow:7,slidesToScroll:7,responsive:[{breakpoint:1600,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:1380,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:1200,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:950,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:580,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:375,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1}}]},Pe=e=>{var{dataItem:t}=e;return o()("div",{"data-test-id":"movieCategoryContainer"},t.id,o()("h2",{},void 0,t.title),s.a.createElement(_e.a,he()({},De,{className:Ee.a.sliderContainer}),t.data&&t.data.length>0&&t.data.map(e=>o()(we,{data:e},e.id))))};class Ie extends i.Component{componentDidMount(){var{actions:e}=this.props;e.fetchMovies()}render(){var{movieListData:e}=this.props;return o()("div",{className:Oe.a.homeContainer},void 0,e.map(e=>o()(Pe,{dataItem:e},e.id)))}}Ie.defaultProps={movieListData:[]};var Ne=Object(l.b)(e=>{var{moviesData:t}=e;return{movieListData:t.data}},e=>({actions:Object(Z.b)({fetchMovies:ye},e)}))(Ie),Te=e=>({type:k,payload:{movieId:e}}),He=()=>({type:F}),Me=r(222),Re=r.n(Me);class ke extends i.Component{componentDidMount(){var{actions:e}=this.props;e.getMovieHistory()}render(){var{movieHistoryData:e}=this.props;return o()("div",{className:Re.a.historyContainer},void 0,e.length>0?e.map(e=>o()(we,{data:e,isFromHistory:!0},e.id)):"No record found")}}ke.defaultProps={movieHistoryData:[]};var Le=Object(l.b)(e=>{var{getHistoryData:t}=e;return{movieHistoryData:t.data}},e=>({actions:Object(Z.b)({getMovieHistory:He},e)}))(ke),Ve=(r(492),r(493),r(150)),xe=r.n(Ve),Fe=e=>({type:I,movieId:e}),Ue=r(16),Be=r.n(Ue),Ye=r(86),Ae=r.n(Ye),Ge=e=>{var{moviesDetailsData:t,togglePlay:r}=e;return o()("div",{className:Ae.a.videoPlayerContainer,"data-test-id":"videoPlayerContainer"},void 0,o()("button",{className:Ae.a.crossBtn,type:"button",onClick:r},void 0,o()("i",{className:"fa fa-times ".concat(Ae.a.crossIcon)})),o()("video",{className:Ae.a.videoContainer,autoPlay:!0,controls:!0},void 0,o()("source",{src:t.contents&&t.contents[0].url,type:"video/".concat(t.contents[0].format&&t.contents[0].format)})))};class Je extends i.Component{constructor(e){super(e),this.togglePlay=()=>{var{showPlayer:e}=this.state,{moviesDetailsData:t,actions:r,location:{search:a}}=this.props,o=xe.a.parse(a);e||"false"!==o.fromHistory||r.setMovieHistory(t.id),this.setState({showPlayer:!e})},this.state={showPlayer:!1}}componentDidMount(){var{actions:e,location:{search:t}}=this.props,r=xe.a.parse(t);e.fetchMoviesDetails(r.movieId)}render(){var{moviesDetailsData:e}=this.props,{showPlayer:t}=this.state;return o()("div",{className:Be.a.movieDetailsContainer,"data-test-id":"movieDetailsContainer"},void 0,t?o()(Ge,{moviesDetailsData:e,togglePlay:this.togglePlay}):o()("div",{className:Be.a.detailContainer},void 0,o()("div",{className:Be.a.infoContainer},void 0,o()("h2",{className:Be.a.title},void 0,e.title),o()("p",{className:Be.a.desc},void 0,e.description),o()("div",{className:Be.a.content},void 0,o()("div",{className:Be.a.item},void 0,o()("div",{className:Be.a.itemHeader},void 0,"Director"),o()("div",{},void 0,e.credits&&e.credits[0].name)),o()("div",{className:Be.a.item},void 0,o()("div",{className:Be.a.itemHeader},void 0,"Category"),o()("div",{},void 0,E(e&&e.categories))),o()("div",{className:Be.a.item},void 0,o()("div",{className:Be.a.itemHeader},void 0,"Type"),o()("div",{},void 0,e.type)),o()("div",{className:Be.a.item},void 0,o()("div",{className:Be.a.itemHeader},void 0,"Rating"),o()("div",{},void 0,e.parentalRatings&&e.parentalRatings[0].rating)),o()("div",{className:Be.a.item},void 0,o()("div",{className:Be.a.itemHeader},void 0,"Scheme"),o()("div",{},void 0,e.parentalRatings&&e.parentalRatings[0].scheme))),o()("button",{onClick:this.togglePlay,type:"button",className:Be.a.watchNowBtn},void 0,o()("i",{className:"".concat(Be.a.playIcon," fa fa-play"),"aria-hidden":"true"}),o()("div",{className:Be.a.watchNowLabel},void 0,"Watch Now"))),o()("div",{className:Be.a.imgContainer},void 0,o()("img",{src:e.images&&e.images[0].url,alt:"Movie_Image"}))))}}Je.defaultProps={moviesDetailsData:{},location:{}};var Qe,We,Ze,qe,ze=[{component:ue,routes:[{component:Le,path:"/history",exact:!0},{component:Object(l.b)(e=>{var{moviesDetailsData:t}=e;return{moviesDetailsData:t.data}},e=>({actions:Object(Z.b)({fetchMoviesDetails:Fe,setMovieHistory:Te},e)}))(Je),path:"/movieDetails",exact:!0},{component:Ne,path:"/"}]}],Xe=(Qe={},We=function*(){yield*[Object(p.b)(P),Object(p.b)(R),Object(p.b)(W),Object(p.b)(Q)]},Ze=Object(q.a)(),qe=Object(Z.e)(ce,Qe,Object(Z.a)(Ze)),Ze.run(We),qe);c.a.hydrate(o()(l.a,{store:Xe},void 0,o()(d.a,{},void 0,o()("div",{},void 0,Object(v.a)(ze)))),document.querySelector("#root"))},85:function(e,t,r){e.exports={headerContainer:"headerContainer___2ZW8F",vodBtn:"vodBtn___2ca1y",hLink:"hLink___vSkoL"}},86:function(e,t,r){e.exports={videoPlayerContainer:"videoPlayerContainer___3UQQC",crossBtn:"crossBtn___T2gcn",crossIcon:"crossIcon___2hnXE",videoContainer:"videoContainer___3h2-w"}}},[[501,1,2]]]);
//# sourceMappingURL=main.b08ff2bf98ab04c758d3.js.map